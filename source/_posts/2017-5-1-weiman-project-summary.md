---
title: 微漫项目总结
date: 2017-05-01 09:43:25
tags: [Android]
categories: Android
---

![weiman](/images/2017-5-1/weiman.png)

上个学期花了半年的时间做了这个应用，程序总体来说不大，而且中间还有大量的时间花在技术调研以及试错上，但实际有效开发时间也有两个月之久，因此值得总结的东西还是挺多。由于我主要开发 Android 端，所以这里的总结也只是针对 Android。至于算法方面，就先略过了。

<!--more-->

### 微漫项目介绍

微漫其实就是一个自动版的脸萌。原版的脸萌是高度 DIY 的形式，大部分情况下很难拼出本人的特点，而微漫就是想针对这一点做出改进，通过一些更加符合真实五官比例的素材，以及人脸特征匹配技术，帮用户筛选出一些跟图片比较相似的素材，提高漫画头像的相似性。

这个出发点一开始觉得蛮有前途的，但越到后面，不合理的地方就越多。其中，最大的一点，在于卡通漫画本身追求的往往并不是通常意义上的相似性。并不是说，把用户本人的照片临摹成卡通头像，效果就越好。相反地，有时候对一些五官特征进行夸张（当然要恰到好处）反而会更加神似。当然啦，我们后面也考虑过用一些算法对原有的素材进行夸张化。由于我们是纯粹模仿脸萌的思路，素材都是 SVG 格式的，因此，对 SVG 格式的图片进行夸张化也给我们带来了巨大的挑战。且不说夸张化算法本身是否可行，光是对矢量图形的夸张化操作，目前也很难在业界找到一些实例或理论研究。这一点可能是导致项目最后失望中断的原因。当然啦，导致项目失败的最直接原因是我们的 SVG 素材实在太少了，画家方面所能提供的资源也是少得可怜，最后团队里做前端的同学居然也得帮忙操刀，那个时候，我们就已经心知肚明：该暂时放下了。

尽管目前这个项目算是废弃了，但中间遇到的坑还是有必要总结一下，也算是对过去半年的努力发一个安慰奖吧。

### Android 端踩坑总结

#### 1. 数据库

Android 端的数据库采用的是 SQLite，主要用来保存 SVG 素材，后期为了素材加密又采用了 [sqlcipher](https://github.com/sqlcipher/android-database-sqlcipher) 。我之前对数据库的使用很少，因此这个项目算是正儿八经地使用数据库。其中遇到不少小问题，比如如何存储数组